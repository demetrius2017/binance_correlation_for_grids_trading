"""
Тестовый пример для демонстрации правильной логики подсчета сделок Grid Trading

ЛОГИКА СЕТОЧНОЙ ТОРГОВЛИ:

1. ТЕНИ СВЕЧЕЙ (всегда прибыльны):
   - Каждый шаг тени = 2 сделки (1 для Long сетки + 1 для Short сетки)
   - Верхняя тень: Long покупает дешевле, Short продает дороже
   - Нижняя тень: Long продает дороже, Short покупает дешевле
   
2. ТЕЛА СВЕЧЕЙ (убыточны только для одной сетки):
   - Красная свеча: убыток только для Long сетки
   - Зеленая свеча: убыток только для Short сетки

ПРИМЕР:
Свеча с телом 2% (красная) и тенями: верхняя 1.5%, нижняя 1.0%
Шаг сетки: 0.5%

РАСЧЕТ СДЕЛОК:
- Верхняя тень: 1.5% / 0.5% = 3 полных шага = 3 сделки для Long + 3 для Short = 6 прибыльных сделок
- Нижняя тень: 1.0% / 0.5% = 2 полных шага = 2 сделки для Long + 2 для Short = 4 прибыльных сделки  
- Тело красное: 2% / 0.5% = 4 шага = 4 убыточных сделки только для Long

ИТОГО:
- Long сетка: 3+2+4 = 9 сделок (5 прибыльных, 4 убыточных) = 55.6% успеха
- Short сетка: 3+2+0 = 5 сделок (5 прибыльных, 0 убыточных) = 100% успеха
- Общий win rate: (5+5)/(9+5) = 10/14 = 71.4%

Это объясняет, почему у каждой сетки может быть разное количество сделок!
"""

print("Логика подсчета сделок Grid Trading обновлена!")
print("Теперь каждая сетка имеет свою статистику сделок.")
